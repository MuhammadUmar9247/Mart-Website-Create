!function(){var e=document.querySelectorAll('form[action*="cart/Add" i]');function t(e,t){var n=e.querySelector('input[name="properties[_bundle_selection]"]'),i=window.SimpleBundles.productVariants[t].variant_options_v2,r=window.SimpleBundles.productVariants[t].variant_options;if(i){var o=i.map((function(t){return t.map((function(t){var n=e.querySelector('[name="properties['+t.optionName+']"]');return n?n.value:""})).join(" ++ ")}));n.value=o.join(" <> ")}else if(r){o=r.map((function(t){var n=e.querySelector('[name="properties['+t.optionName+']"]');return n?n.value:""}));n.value=o.join(" <> ")}}function n(e){const t=Array.from(e.querySelectorAll("option:not([disabled])"));t.sort(((e,t)=>(parseFloat(e.getAttribute("data-price-diff"))||0)-(parseFloat(t.getAttribute("data-price-diff"))||0)));const n=e.querySelector("option[disabled]");e.innerHTML="",n&&e.appendChild(n),t.forEach((t=>{e.appendChild(t)})),t.length>0&&(t[0].selected=!0)}function i(i){var r=i.querySelector('button[type="submit"], input[type="submit"]'),o=i.querySelector('input[name="id"], select[name="id"]'),a=o?o.value:null;if(a&&window.SimpleBundles.productVariants[a]){var l=window.SimpleBundles.productVariants[a].bundle_options_selector_html,u=document.querySelector("[data-simple-bundles-options]");if(u)u.innerHTML="",u.insertAdjacentHTML("afterbegin",l);else if(r){var d=i.querySelector("[data-simple-bundles-options]");d&&d.remove(),(u=document.createElement("div")).setAttribute("data-simple-bundles-options",""),u.insertAdjacentHTML("afterbegin",l),i.insertAdjacentElement("afterbegin",u)}window.SimpleBundles&&window.SimpleBundles.settings&&window.SimpleBundles.settings.showPriceVariance&&(function(e){for(var t=e?e.querySelectorAll("select"):[],n=0;n<t.length;n++)Array.from(t[n].options).forEach((function(e){if(e.disabled)return;const t=parseFloat(e.getAttribute("data-price-diff")),n=e.getAttribute("data-price-displayed");if(t&&0!==t&&!n){var i=Math.abs(t);if(window.Shopify?.currency?.rate){const e=parseFloat(window.Shopify.currency.rate);isNaN(e)||1===e||(i*=e)}const n=window.SimpleBundles.currencyFormatter.format(i);var r=t>0?" (+"+n+")":" (-"+n+")";e.textContent=e.textContent+r,e.setAttribute("data-price-displayed","true")}}))}(u),window.SimpleBundles.settings.rankOptionsByPriceDiff&&function(e){for(var t=e?e.querySelectorAll("select"):[],i=0;i<t.length;i++)Array.from(t[i].options).some((e=>parseFloat(e.dataset.priceDiff)>0))&&n(t[i])}(u)),(u?u.querySelectorAll("select"):[]).forEach((function(n){!function(n,i){e.forEach((function(e){var r=e.querySelector('input[type="hidden"][name="'+n.name+'"]');r?r.value=n.value:((r=document.createElement("input")).type="hidden",r.name=n.name,r.value=n.value,e.appendChild(r)),n.addEventListener("change",(function(){r.value=n.value,t(e,i)}))}))}(n,a)}));var s=i.querySelector('input[name="properties[_bundle_selection]"]');s||((s=document.createElement("input")).type="hidden",s.name="properties[_bundle_selection]",i.appendChild(s)),t(i,a)}}function r(){e.forEach((function(e){i(e),setTimeout((()=>{i(e)}),500);var t=new MutationObserver((function(){i(e)})),n=e.querySelector('input[name="id"], select[name="id"]');n&&t.observe(n,{attributes:!0})}))}document.addEventListener("DOMContentLoaded",r),window.addEventListener("pageshow",(function(e){e.persisted&&r()}))}();